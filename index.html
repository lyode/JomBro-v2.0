<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Assistant</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #6a5acd;
            color: white;
            text-align: center;
            padding: 20px;
            margin: 0;
        }
        
        #button {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: white;
            border: none;
            font-size: 40px;
            margin: 20px auto;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #button.active {
            background: #ff6b6b;
            transform: scale(1.1);
        }
        
        #output {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            min-height: 100px;
        }
        
        .message {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
        }
    </style>
</head>
<body>
    <h1>Voice Assistant</h1>
    <button id="button">ðŸŽ¤</button>
    <div id="output"></div>
    
    <script>
        const button = document.getElementById('button');
        const output = document.getElementById('output');
        const synth = window.speechSynthesis;
        let recognition;
        
        // Setup speech recognition
        if ('webkitSpeechRecognition' in window) {
            recognition = new webkitSpeechRecognition();
            recognition.continuous = false;
            recognition.lang = 'en-US';
            
            recognition.onstart = () => {
                button.classList.add('active');
                addMessage('Listening...', 'system');
            };
            
            recognition.onresult = (event) => {
                const text = event.results[0][0].transcript;
                addMessage('You: ' + text, 'user');
                processCommand(text.toLowerCase());
            };
            
            recognition.onend = () => {
                button.classList.remove('active');
            };
        }
        
        // Button click
        button.onclick = () => {
            if (recognition) {
                recognition.start();
            } else {
                speak('Speech recognition not supported');
            }
        };
        
        // Process commands
        function processCommand(cmd) {
            let response = '';
            
            if (cmd.includes('time')) {
                response = 'The time is ' + new Date().toLocaleTimeString();
            } else if (cmd.includes('date')) {
                response = 'Today is ' + new Date().toLocaleDateString();
            } else if (cmd.includes('hello') || cmd.includes('hi')) {
                response = 'Hello! How can I help you?';
            } else if (cmd.includes('joke')) {
                response = 'Why don\'t scientists trust atoms? Because they make up everything!';
            } else {
                response = 'Say: time, date, hello, or joke';
            }
            
            addMessage('Assistant: ' + response, 'assistant');
            speak(response);
        }
        
        // Text to speech
        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 1;
            utterance.pitch = 1.2;
            
            // Try to use female voice
            const voices = synth.getVoices();
            const femaleVoice = voices.find(v => v.name.includes('Female') || v.name.includes('Samantha'));
            if (femaleVoice) utterance.voice = femaleVoice;
            
            synth.speak(utterance);
        }
        
        // Add message to output
        function addMessage(text, type) {
            const div = document.createElement('div');
            div.className = 'message ' + type;
            div.textContent = text;
            output.appendChild(div);
            output.scrollTop = output.scrollHeight;
        }
        
        // Initialize
        addMessage('Tap the microphone to start!', 'system');
    </script>
</body>
</html>
